<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Darts Voice Prototype</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="app-header">
    <h1>friendDartBoard</h1>
    <p class="tagline">Sprich deine W√ºrfe - die App protokolliert das Leg.</p>
    <div class="main-menu-bar">
      <button
        type="button"
        class="main-menu-trigger"
        id="main-menu-trigger"
        aria-haspopup="true"
        aria-expanded="false"
        aria-controls="main-menu"
      >
        <span class="burger-line"></span>
        <span class="burger-line"></span>
        <span class="burger-line"></span>
        <span class="sr-only">Hauptmen√º √∂ffnen</span>
      </button>
      <div id="main-menu" class="main-menu" aria-hidden="true">
        <div class="main-menu-section">
          <p class="main-menu-label">Ansicht</p>
          <div class="view-toggle" role="group" aria-label="Ansicht w√§hlen">
            <button type="button" class="view-toggle-btn active" data-view="setup">Konfiguration</button>
            <button type="button" class="view-toggle-btn" data-view="play">Spielansicht</button>
            <button type="button" class="view-toggle-btn" data-view="tournament">Turnier</button>
            <button type="button" class="view-toggle-btn" data-view="profiles">Profile</button>
            <button type="button" class="view-toggle-btn" data-view="leaderboard">Leaderboard</button>
          </div>
        </div>
        <div class="main-menu-section">
          <p class="main-menu-label">Layout</p>
          <div class="layout-toggle" role="group" aria-label="Layout w√§hlen">
            <button type="button" class="layout-toggle-btn active" data-layout="auto">Auto</button>
            <button type="button" class="layout-toggle-btn" data-layout="desktop">Web</button>
            <button type="button" class="layout-toggle-btn" data-layout="mobile">Mobil</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="app-main">
    <section class="card setup-card" aria-labelledby="setup-title">
      <h2 id="setup-title">Spiel konfigurieren</h2>
      <form id="setup-form" class="setup-form">
        <div class="form-row">
          <label for="player-one-profile">Spieler 1 Profil</label>
          <select id="player-one-profile" name="playerOneProfile">
            <option value="">Benutzerdefiniert</option>
          </select>
        </div>
        <div class="form-row">
          <label for="player-one">Spieler 1 Name</label>
          <input id="player-one" name="playerOne" type="text" value="Player 1" autocomplete="off" required />
        </div>
        <div class="form-row">
          <label for="player-two-profile">Spieler 2 Profil</label>
          <select id="player-two-profile" name="playerTwoProfile">
            <option value="">Benutzerdefiniert</option>
          </select>
        </div>
        <div class="form-row">
          <label for="player-two">Spieler 2 Name</label>
          <input id="player-two" name="playerTwo" type="text" value="Player 2" autocomplete="off" required />
        </div>
        <p class="form-divider">Weitere Spieler (optional)</p>
        <div class="form-row optional">
          <label for="player-three-profile">Spieler 3 Profil</label>
          <select id="player-three-profile" name="playerThreeProfile">
            <option value="" selected>Benutzerdefiniert</option>
          </select>
        </div>
        <div class="form-row optional">
          <label for="player-three">Spieler 3 Name</label>
          <input
            id="player-three"
            name="playerThree"
            type="text"
            autocomplete="off"
            placeholder="Player 3"
          />
        </div>
        <div class="form-row optional">
          <label for="player-four-profile">Spieler 4 Profil</label>
          <select id="player-four-profile" name="playerFourProfile">
            <option value="" selected>Benutzerdefiniert</option>
          </select>
        </div>
        <div class="form-row optional">
          <label for="player-four">Spieler 4 Name</label>
          <input
            id="player-four"
            name="playerFour"
            type="text"
            autocomplete="off"
            placeholder="Player 4"
          />
        </div>
        <div class="form-row">
          <label for="starting-score">Startscore</label>
          <select id="starting-score" name="startingScore">
            <option value="501" selected>501</option>
            <option value="301">301</option>
          </select>
        </div>
        <div class="form-row">
          <label for="out-mode">Checkout-Regel</label>
          <select id="out-mode" name="outMode">
            <option value="single" selected>Single Out</option>
            <option value="double">Double Out</option>
          </select>
        </div>
        <div class="form-row">
          <label for="match-mode">Matchmodus</label>
          <select id="match-mode" name="matchMode">
            <option value="single" selected>Einzel-Leg</option>
            <option value="bestOfThreeLegs">S√§tze (Best of 3 Legs, 2 S√§tze zum Sieg)</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="submit" class="primary">Leg starten</button>
          <button type="button" id="reset-btn" class="ghost">Zur√ºcksetzen</button>
        </div>
      </form>
    </section>

    <section class="card tournament-card" aria-labelledby="tournament-title">
      <h2 id="tournament-title">Turniermodus</h2>
      <p class="tournament-intro">
        Richte ein K.-o.-Turnier mit bis zu 16 Spielern aus. Die Gewinner jeder Runde steigen automatisch in das
        Viertel-, Halbfinale und Finale auf.
      </p>
      <form id="tournament-form" class="tournament-form">
        <div class="tournament-grid">
          <div class="form-row tournament-player-row">
            <label for="tournament-player-1">Spieler 1</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-1-profile" class="tournament-player-select" data-slot="1">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-1" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-2">Spieler 2</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-2-profile" class="tournament-player-select" data-slot="2">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-2" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-3">Spieler 3</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-3-profile" class="tournament-player-select" data-slot="3">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-3" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-4">Spieler 4</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-4-profile" class="tournament-player-select" data-slot="4">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-4" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-5">Spieler 5</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-5-profile" class="tournament-player-select" data-slot="5">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-5" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-6">Spieler 6</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-6-profile" class="tournament-player-select" data-slot="6">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-6" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-7">Spieler 7</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-7-profile" class="tournament-player-select" data-slot="7">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-7" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-8">Spieler 8</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-8-profile" class="tournament-player-select" data-slot="8">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-8" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-9">Spieler 9</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-9-profile" class="tournament-player-select" data-slot="9">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-9" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-10">Spieler 10</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-10-profile" class="tournament-player-select" data-slot="10">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-10" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-11">Spieler 11</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-11-profile" class="tournament-player-select" data-slot="11">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-11" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-12">Spieler 12</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-12-profile" class="tournament-player-select" data-slot="12">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-12" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-13">Spieler 13</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-13-profile" class="tournament-player-select" data-slot="13">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-13" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-14">Spieler 14</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-14-profile" class="tournament-player-select" data-slot="14">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-14" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-15">Spieler 15</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-15-profile" class="tournament-player-select" data-slot="15">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-15" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
          <div class="form-row tournament-player-row">
            <label for="tournament-player-16">Spieler 16</label>
            <div class="tournament-player-fields">
              <select id="tournament-player-16-profile" class="tournament-player-select" data-slot="16">
                <option value="">Benutzerdefiniert</option>
              </select>
              <input id="tournament-player-16" class="tournament-player-input" type="text" autocomplete="off" />
            </div>
          </div>
        </div>
        <div class="tournament-controls">
          <div class="form-row">
            <label for="tournament-match-mode">Matchmodus</label>
            <select id="tournament-match-mode" name="tournamentMatchMode">
              <option value="single" selected>Einzel-Leg</option>
              <option value="bestOfThreeLegs">Saetze (Best of 3 Legs, 2 Saetze zum Sieg)</option>
            </select>
          </div>
        </div>
        <div class="form-actions tournament-actions">
          <button type="submit" class="primary">Turnier starten</button>
          <button type="button" id="tournament-reset" class="ghost">Formular leeren</button>
        </div>
      </form>
      <div id="tournament-status" class="tournament-status" aria-live="polite"></div>
      <div class="tournament-bracket-wrapper">
        <h3>Turnierbaum</h3>
        <div id="tournament-bracket" class="tournament-bracket" aria-live="polite"></div>
      </div>
    </section>

    <section class="card scoreboard" aria-labelledby="scoreboard-title">
      <div class="scoreboard-header">
        <h2 id="scoreboard-title">Scoreboard</h2>
        <div class="scoreboard-actions">
          <button id="rematch-btn" type="button" class="scoreboard-rematch" hidden>Neues Leg</button>
          <button id="undo-btn" type="button" class="scoreboard-undo">R√ºckg√§ngig</button>
        </div>
      </div>
      <p id="game-settings" class="game-meta" aria-live="polite"></p>
      <p id="active-player-banner" class="active-player-banner" aria-live="assertive"></p>
      <div id="scoreboard" class="scoreboard-grid" aria-live="polite"></div>
      <section class="scoreboard-quick" aria-labelledby="quick-select-title">
        <h3 id="quick-select-title">Schnellauswahl</h3>
        <div id="dart-picker" class="dart-picker" aria-label="Dart-Schnellauswahl f√ºr Single, Double, Triple und Bull">
          <div id="dart-number-grid" class="dart-grid dart-numbers" aria-label="Zahlenfelder"></div>
          <div id="dartboard-picker" class="dartboard-picker" hidden aria-label="Dartboard Darstellung"></div>
          <div class="dart-grid dart-bull">
            <button class="dart-button" data-label="SB" data-readable="Single Bull" data-score="25" data-multiplier="1"
              data-double="false">
              <span class="abbr">SB</span>
              <span class="value">25</span>
            </button>
            <button class="dart-button" data-label="DB" data-readable="Double Bull" data-score="50" data-multiplier="2"
              data-double="true">
              <span class="abbr">DB</span>
              <span class="value">50</span>
            </button>
            <button class="dart-button" data-label="0" data-readable="Nullwurf" data-score="0" data-multiplier="1"
              data-double="false">
              <span class="abbr">0</span>
              <span class="value">Miss</span>
            </button>
          </div>
        </div>
        <div class="dart-number-order" role="group" aria-label="Zahlenanordnung">
          <button type="button" class="dart-number-order-btn active" data-order="sequential">Zahlenfolge</button>
          <button type="button" class="dart-number-order-btn" data-order="adjacent">Nachbarn</button>
          <button type="button" class="dart-number-order-btn" data-order="dartboard">Dartboard</button>
        </div>
        <div class="dart-mode-switch" role="group" aria-label="Multiplikator w√§hlen">
          <button type="button" class="dart-mode-button active" data-multiplier="1">Single</button>
          <button type="button" class="dart-mode-button" data-multiplier="2">Double</button>
          <button type="button" class="dart-mode-button" data-multiplier="3">Triple</button>
        </div>
        <div class="dart-combos" aria-label="Standardfolgen">
          <button type="button" class="combo-button" data-combo="1-20-5">1 ‚Ä¢ 20 ‚Ä¢ 5</button>
          <button type="button" class="combo-button" data-combo="3-19-7">3 ‚Ä¢ 19 ‚Ä¢ 7</button>
        </div>
      </section>
    </section>

    <div class="scoreboard-detail">
      <section id="scoreboard-heatmap" class="card scoreboard-heatmap" aria-live="polite" hidden>
        <p class="heatmap-empty">Heatmap wird angezeigt, sobald Wurfdaten vorliegen.</p>
      </section>
      <section class="card history" aria-labelledby="history-title">
        <h2 id="history-title">Verlauf</h2>
        <ul id="history-log" class="history-log"></ul>
      </section>
    </div>

    <section class="card voice-console" aria-labelledby="voice-title">
      <div class="voice-header">
        <h2 id="voice-title">Sprachsteuerung</h2>
        <span id="voice-status" class="status offline">Inaktiv</span>
      </div>
      <p class="voice-tip">
        Beispiele: ‚ÄûTriple 20‚Äú, ‚Äû140‚Äú, ‚ÄûDouble 16‚Äú, ‚ÄûBust‚Äú, ‚ÄûNeuer Wurf‚Äú, ‚ÄûR√ºckg√§ngig‚Äú.
      </p>
      <div class="voice-controls">
        <button id="listen-btn" class="primary" type="button">Aufnahme starten</button>
        <button id="stop-listen-btn" class="ghost" type="button">Aufnahme stoppen</button>
      </div>
      <div class="voice-readout" aria-live="assertive">
        <p><strong>Letzte Erkennung:</strong> <span id="last-utterance">‚Äì</span></p>
        <p><strong>Interpretation:</strong> <span id="last-interpretation">‚Äì</span></p>
      </div>
      <div class="fallback-manual">
        <h3>Fallback</h3>
        <div class="manual-row">
          <label for="manual-score">Score manueller Wurf</label>
          <input id="manual-score" type="number" min="0" max="180" step="1" />
          <div class="manual-actions">
            <div class="manual-actions-primary">
              <button id="manual-commit" type="button">√úbernehmen</button>
              <button id="manual-bust" type="button" class="ghost">Bust</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="card profile-manager" aria-labelledby="profile-title">
      <h2 id="profile-title">Spielerprofile</h2>
      <form id="profile-form" class="profile-form" data-mode="create">
        <div class="profile-form-grid">
          <div class="form-row">
            <label for="profile-first-name">Vorname</label>
            <input id="profile-first-name" name="firstName" type="text" autocomplete="off" required />
          </div>
          <div class="form-row">
            <label for="profile-last-name">Nachname</label>
            <input id="profile-last-name" name="lastName" type="text" autocomplete="off" required />
          </div>
          <div class="form-row">
            <label for="profile-nickname">Spitzname (Anzeige am Scoreboard)</label>
            <input id="profile-nickname" name="nickname" type="text" autocomplete="off" required />
          </div>
          <div class="form-row">
            <label for="profile-image">Profilbild</label>
            <input id="profile-image" name="image" type="file" accept="image/*" />
          </div>
        </div>
        <div class="profile-image-preview">
          <img id="profile-image-preview" alt="Profilbild Vorschau" hidden />
        </div>
        <input id="profile-id" name="profileId" type="hidden" />
        <div class="form-actions profile-actions">
          <button type="submit" id="profile-submit" class="primary">Profil speichern</button>
          <button type="reset" id="profile-reset" class="ghost">Zur√ºcksetzen</button>
        </div>
      </form>
      <div class="profile-data-actions">
        <div class="profile-actions-inline" role="group" aria-label="Profil-Dateien verwalten">
          <button type="button" id="profile-export" class="ghost profile-icon-btn" title="Profile exportieren">
            <span aria-hidden="true">üíæ</span>
            <span class="sr-only">Profile exportieren</span>
          </button>
          <button type="button" id="profile-import" class="ghost profile-icon-btn" title="Profile importieren">
            <span aria-hidden="true">üì•</span>
            <span class="sr-only">Profile importieren</span>
          </button>
        </div>
        <input id="profile-import-file" type="file" accept="application/json" hidden />
        <p id="profile-data-status" class="profile-data-status" role="status" aria-live="polite"></p>
      </div>
      <div class="profile-list-container">
        <h3>Gespeicherte Profile</h3>
        <ul id="profile-list" class="profile-list"></ul>
      </div>
    </section>

    <section class="card leaderboard-card" aria-labelledby="leaderboard-title">
      <h2 id="leaderboard-title">Leaderboard</h2>
      <div class="leaderboard-controls" role="group" aria-label="Sortierung w√§hlen">
        <button type="button" class="leaderboard-sort-btn active" data-sort="average">√ò Punkte/Dart</button>
        <button type="button" class="leaderboard-sort-btn" data-sort="legs">Legs gewonnen</button>
      </div>
      <div class="leaderboard-table-wrapper">
        <table class="leaderboard-table">
          <thead>
            <tr>
              <th scope="col">Platz</th>
              <th scope="col">Spieler</th>
              <th scope="col">√ò/Dart</th>
              <th scope="col">√ò 3-Dart</th>
              <th scope="col">√ò erste 12</th>
              <th scope="col">Checkout %</th>
              <th scope="col">Triple %</th>
              <th scope="col">Double %</th>
              <th scope="col">S√§tze</th>
              <th scope="col">Legs</th>
              <th scope="col">Spiele</th>
            </tr>
          </thead>
          <tbody id="leaderboard-body"></tbody>
        </table>
        <p id="leaderboard-empty" class="leaderboard-empty" hidden>Keine Profile mit Statistiken vorhanden.</p>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <p>(‚ùÅ¬¥‚ó°`‚ùÅ) powered by penze</p>
  </footer>

  <template id="scoreboard-item-template">
    <article class="player-card">
      <header class="player-header">
        <div class="player-identity">
          <div class="player-avatar-wrapper">
            <img class="player-avatar" alt="" hidden />
            <span class="player-avatar-fallback" aria-hidden="true">?</span>
          </div>
          <div class="player-name-wrapper">
            <h3 class="player-name"></h3>
            <p class="player-meta"></p>
          </div>
        </div>
        <span class="player-indicator" aria-hidden="true">‚óè</span>
      </header>
      <dl class="player-stats">
        <div class="player-sets-wrapper">
          <dt>S√§tze</dt>
          <dd class="player-sets">0</dd>
        </div>
        <div class="player-legs-wrapper">
          <dt>Legs</dt>
          <dd class="player-legs">0</dd>
        </div>
        <div class="player-score-wrapper">
          <dt>Rest</dt>
          <dd class="player-score">501</dd>
        </div>
        <div class="player-last-wrapper">
          <dt>Letzter Wurf</dt>
          <dd class="player-last">-</dd>
        </div>
        <div class="player-checkout-wrapper" hidden>
          <dt>Checkout</dt>
          <dd class="player-checkout" data-state="none"></dd>
        </div>
      </dl>
    </article>
  </template>

  <script src="app.js" type="module"></script>
</body>

</html>
