<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Darts 501 Voice Prototype</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>Darts 501 Voice Prototype</h1>
      <p class="tagline">Sprich deine Würfe – die App protokolliert das Leg.</p>
    </header>

    <main class="app-main">
      <section class="card" aria-labelledby="setup-title">
        <h2 id="setup-title">Spiel konfigurieren</h2>
        <form id="setup-form" class="setup-form">
          <div class="form-row">
            <label for="player-one">Spieler 1</label>
            <input id="player-one" name="playerOne" type="text" value="Player 1" required />
          </div>
          <div class="form-row">
            <label for="player-two">Spieler 2</label>
            <input id="player-two" name="playerTwo" type="text" value="Player 2" required />
          </div>
          <div class="form-row">
            <label for="starting-score">Startscore</label>
            <input id="starting-score" name="startingScore" type="number" min="101" max="1001" step="2" value="501" />
          </div>
          <div class="form-actions">
            <button type="submit" class="primary">Leg starten</button>
            <button type="button" id="reset-btn" class="ghost">Zurücksetzen</button>
          </div>
        </form>
      </section>

      <section class="card scoreboard" aria-labelledby="scoreboard-title">
        <h2 id="scoreboard-title">Scoreboard</h2>
        <div id="scoreboard" class="scoreboard-grid" aria-live="polite"></div>
      </section>

      <section class="card voice-console" aria-labelledby="voice-title">
        <div class="voice-header">
          <h2 id="voice-title">Sprachsteuerung</h2>
          <span id="voice-status" class="status offline">Inaktiv</span>
        </div>
        <p class="voice-tip">
          Beispiele: „Triple 20“, „140“, „Double 16“, „Bust“, „Neuer Wurf“, „Rückgängig“.
        </p>
        <div class="voice-controls">
          <button id="listen-btn" class="primary" type="button">Aufnahme starten</button>
          <button id="stop-listen-btn" class="ghost" type="button">Aufnahme stoppen</button>
        </div>
        <div class="voice-readout" aria-live="assertive">
          <p><strong>Letzte Erkennung:</strong> <span id="last-utterance">–</span></p>
          <p><strong>Interpretation:</strong> <span id="last-interpretation">–</span></p>
        </div>
        <div class="fallback-manual">
          <h3>Fallback</h3>
          <div class="manual-row">
            <label for="manual-score">Score manueller Wurf</label>
            <input id="manual-score" type="number" min="0" max="180" step="1" />
            <button id="manual-commit" type="button">Übernehmen</button>
            <button id="manual-bust" type="button" class="ghost">Bust</button>
          </div>
          <div class="manual-picker">
            <h4>Schnellauswahl</h4>
            <div
              id="dart-picker"
              class="dart-picker"
              aria-label="Dart-Schnellauswahl für Single, Double, Triple und Bull"
            >
              <section class="dart-group single">
                <h5>Single (0–20)</h5>
                <div class="dart-grid">
                  <button class="dart-button" data-label="0" data-score="0" data-multiplier="1" data-double="false"><span>0</span><span class="value">0</span></button>
                  <button class="dart-button" data-label="Single 1" data-score="1" data-multiplier="1" data-double="false"><span>S1</span><span class="value">1</span></button>
                  <button class="dart-button" data-label="Single 2" data-score="2" data-multiplier="1" data-double="false"><span>S2</span><span class="value">2</span></button>
                  <button class="dart-button" data-label="Single 3" data-score="3" data-multiplier="1" data-double="false"><span>S3</span><span class="value">3</span></button>
                  <button class="dart-button" data-label="Single 4" data-score="4" data-multiplier="1" data-double="false"><span>S4</span><span class="value">4</span></button>
                  <button class="dart-button" data-label="Single 5" data-score="5" data-multiplier="1" data-double="false"><span>S5</span><span class="value">5</span></button>
                  <button class="dart-button" data-label="Single 6" data-score="6" data-multiplier="1" data-double="false"><span>S6</span><span class="value">6</span></button>
                  <button class="dart-button" data-label="Single 7" data-score="7" data-multiplier="1" data-double="false"><span>S7</span><span class="value">7</span></button>
                  <button class="dart-button" data-label="Single 8" data-score="8" data-multiplier="1" data-double="false"><span>S8</span><span class="value">8</span></button>
                  <button class="dart-button" data-label="Single 9" data-score="9" data-multiplier="1" data-double="false"><span>S9</span><span class="value">9</span></button>
                  <button class="dart-button" data-label="Single 10" data-score="10" data-multiplier="1" data-double="false"><span>S10</span><span class="value">10</span></button>
                  <button class="dart-button" data-label="Single 11" data-score="11" data-multiplier="1" data-double="false"><span>S11</span><span class="value">11</span></button>
                  <button class="dart-button" data-label="Single 12" data-score="12" data-multiplier="1" data-double="false"><span>S12</span><span class="value">12</span></button>
                  <button class="dart-button" data-label="Single 13" data-score="13" data-multiplier="1" data-double="false"><span>S13</span><span class="value">13</span></button>
                  <button class="dart-button" data-label="Single 14" data-score="14" data-multiplier="1" data-double="false"><span>S14</span><span class="value">14</span></button>
                  <button class="dart-button" data-label="Single 15" data-score="15" data-multiplier="1" data-double="false"><span>S15</span><span class="value">15</span></button>
                  <button class="dart-button" data-label="Single 16" data-score="16" data-multiplier="1" data-double="false"><span>S16</span><span class="value">16</span></button>
                  <button class="dart-button" data-label="Single 17" data-score="17" data-multiplier="1" data-double="false"><span>S17</span><span class="value">17</span></button>
                  <button class="dart-button" data-label="Single 18" data-score="18" data-multiplier="1" data-double="false"><span>S18</span><span class="value">18</span></button>
                  <button class="dart-button" data-label="Single 19" data-score="19" data-multiplier="1" data-double="false"><span>S19</span><span class="value">19</span></button>
                  <button class="dart-button" data-label="Single 20" data-score="20" data-multiplier="1" data-double="false"><span>S20</span><span class="value">20</span></button>
                </div>
              </section>
              <section class="dart-group double">
                <h5>Double (1–20)</h5>
                <div class="dart-grid">
                  <button class="dart-button" data-label="Double 1" data-score="2" data-multiplier="2" data-double="true"><span>D1</span><span class="value">2</span></button>
                  <button class="dart-button" data-label="Double 2" data-score="4" data-multiplier="2" data-double="true"><span>D2</span><span class="value">4</span></button>
                  <button class="dart-button" data-label="Double 3" data-score="6" data-multiplier="2" data-double="true"><span>D3</span><span class="value">6</span></button>
                  <button class="dart-button" data-label="Double 4" data-score="8" data-multiplier="2" data-double="true"><span>D4</span><span class="value">8</span></button>
                  <button class="dart-button" data-label="Double 5" data-score="10" data-multiplier="2" data-double="true"><span>D5</span><span class="value">10</span></button>
                  <button class="dart-button" data-label="Double 6" data-score="12" data-multiplier="2" data-double="true"><span>D6</span><span class="value">12</span></button>
                  <button class="dart-button" data-label="Double 7" data-score="14" data-multiplier="2" data-double="true"><span>D7</span><span class="value">14</span></button>
                  <button class="dart-button" data-label="Double 8" data-score="16" data-multiplier="2" data-double="true"><span>D8</span><span class="value">16</span></button>
                  <button class="dart-button" data-label="Double 9" data-score="18" data-multiplier="2" data-double="true"><span>D9</span><span class="value">18</span></button>
                  <button class="dart-button" data-label="Double 10" data-score="20" data-multiplier="2" data-double="true"><span>D10</span><span class="value">20</span></button>
                  <button class="dart-button" data-label="Double 11" data-score="22" data-multiplier="2" data-double="true"><span>D11</span><span class="value">22</span></button>
                  <button class="dart-button" data-label="Double 12" data-score="24" data-multiplier="2" data-double="true"><span>D12</span><span class="value">24</span></button>
                  <button class="dart-button" data-label="Double 13" data-score="26" data-multiplier="2" data-double="true"><span>D13</span><span class="value">26</span></button>
                  <button class="dart-button" data-label="Double 14" data-score="28" data-multiplier="2" data-double="true"><span>D14</span><span class="value">28</span></button>
                  <button class="dart-button" data-label="Double 15" data-score="30" data-multiplier="2" data-double="true"><span>D15</span><span class="value">30</span></button>
                  <button class="dart-button" data-label="Double 16" data-score="32" data-multiplier="2" data-double="true"><span>D16</span><span class="value">32</span></button>
                  <button class="dart-button" data-label="Double 17" data-score="34" data-multiplier="2" data-double="true"><span>D17</span><span class="value">34</span></button>
                  <button class="dart-button" data-label="Double 18" data-score="36" data-multiplier="2" data-double="true"><span>D18</span><span class="value">36</span></button>
                  <button class="dart-button" data-label="Double 19" data-score="38" data-multiplier="2" data-double="true"><span>D19</span><span class="value">38</span></button>
                  <button class="dart-button" data-label="Double 20" data-score="40" data-multiplier="2" data-double="true"><span>D20</span><span class="value">40</span></button>
                </div>
              </section>
              <section class="dart-group triple">
                <h5>Triple (1–20)</h5>
                <div class="dart-grid">
                  <button class="dart-button" data-label="Triple 1" data-score="3" data-multiplier="3" data-double="false"><span>T1</span><span class="value">3</span></button>
                  <button class="dart-button" data-label="Triple 2" data-score="6" data-multiplier="3" data-double="false"><span>T2</span><span class="value">6</span></button>
                  <button class="dart-button" data-label="Triple 3" data-score="9" data-multiplier="3" data-double="false"><span>T3</span><span class="value">9</span></button>
                  <button class="dart-button" data-label="Triple 4" data-score="12" data-multiplier="3" data-double="false"><span>T4</span><span class="value">12</span></button>
                  <button class="dart-button" data-label="Triple 5" data-score="15" data-multiplier="3" data-double="false"><span>T5</span><span class="value">15</span></button>
                  <button class="dart-button" data-label="Triple 6" data-score="18" data-multiplier="3" data-double="false"><span>T6</span><span class="value">18</span></button>
                  <button class="dart-button" data-label="Triple 7" data-score="21" data-multiplier="3" data-double="false"><span>T7</span><span class="value">21</span></button>
                  <button class="dart-button" data-label="Triple 8" data-score="24" data-multiplier="3" data-double="false"><span>T8</span><span class="value">24</span></button>
                  <button class="dart-button" data-label="Triple 9" data-score="27" data-multiplier="3" data-double="false"><span>T9</span><span class="value">27</span></button>
                  <button class="dart-button" data-label="Triple 10" data-score="30" data-multiplier="3" data-double="false"><span>T10</span><span class="value">30</span></button>
                  <button class="dart-button" data-label="Triple 11" data-score="33" data-multiplier="3" data-double="false"><span>T11</span><span class="value">33</span></button>
                  <button class="dart-button" data-label="Triple 12" data-score="36" data-multiplier="3" data-double="false"><span>T12</span><span class="value">36</span></button>
                  <button class="dart-button" data-label="Triple 13" data-score="39" data-multiplier="3" data-double="false"><span>T13</span><span class="value">39</span></button>
                  <button class="dart-button" data-label="Triple 14" data-score="42" data-multiplier="3" data-double="false"><span>T14</span><span class="value">42</span></button>
                  <button class="dart-button" data-label="Triple 15" data-score="45" data-multiplier="3" data-double="false"><span>T15</span><span class="value">45</span></button>
                  <button class="dart-button" data-label="Triple 16" data-score="48" data-multiplier="3" data-double="false"><span>T16</span><span class="value">48</span></button>
                  <button class="dart-button" data-label="Triple 17" data-score="51" data-multiplier="3" data-double="false"><span>T17</span><span class="value">51</span></button>
                  <button class="dart-button" data-label="Triple 18" data-score="54" data-multiplier="3" data-double="false"><span>T18</span><span class="value">54</span></button>
                  <button class="dart-button" data-label="Triple 19" data-score="57" data-multiplier="3" data-double="false"><span>T19</span><span class="value">57</span></button>
                  <button class="dart-button" data-label="Triple 20" data-score="60" data-multiplier="3" data-double="false"><span>T20</span><span class="value">60</span></button>
                </div>
              </section>
              <section class="dart-group bull">
                <h5>Bull</h5>
                <div class="dart-grid">
                  <button class="dart-button" data-label="Single Bull" data-score="25" data-multiplier="1" data-double="false"><span>SB</span><span class="value">25</span></button>
                  <button class="dart-button" data-label="Double Bull" data-score="50" data-multiplier="2" data-double="true"><span>DB</span><span class="value">50</span></button>
                </div>
              </section>
            </div>
          </div>
        </div>
      </section>

      <section class="card history" aria-labelledby="history-title">
        <h2 id="history-title">Verlauf</h2>
        <ul id="history-log" class="history-log"></ul>
      </section>
    </main>

    <footer class="app-footer">
      <p>Prototyp – keine Persistenz, optimiert für Chromium-Browser mit Web Speech API.</p>
    </footer>

    <template id="scoreboard-item-template">
      <article class="player-card">
        <header>
          <h3 class="player-name"></h3>
          <span class="player-indicator" aria-hidden="true">●</span>
        </header>
        <dl class="player-stats">
          <div>
            <dt>Rest</dt>
            <dd class="player-score">501</dd>
          </div>
          <div>
            <dt>Letzter Wurf</dt>
            <dd class="player-last">–</dd>
          </div>
        </dl>
      </article>
    </template>

    <script src="app.js" type="module"></script>
  </body>
</html>
